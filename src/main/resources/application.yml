server:
  forward-headers-strategy: native

logging.level:
  reactor.netty.http.server.AccessLog: INFO

spring:
  cloud:
    gateway:
      server:
        webflux:
          default-filters:
            - RemoveRequestHeader=Cookie
            - PreserveHostHeader
            - TokenRelay
            - Abac
          # This looks unsafe, but the gateway is always supposed to be deployed behind a proxy that _replaces_ X-Forwarded-For/Forwarded headers with only trusted addresses
          trusted-proxies: .*

management:
  endpoints:
    web:
      exposure:
        include: '*'
  endpoint:
    gateway:
      access: unrestricted
  otlp:
    metrics:
      export:
        enabled: false

contentgrid:
  gateway:
    user-info:
      enabled: false
      path: /me
  configuration.discovery.kubernetes:
    enabled: "${contentgrid.gateway.runtime-platform.enabled:false}"
